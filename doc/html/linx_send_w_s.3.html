<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>LINX_SEND_W_S(3) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
linx_send() - Send a LINX signal to a LINX endpoint (spid) <br>

<p> linx_send_w_s() - Send a LINX signal and specify a different LINX endpoint
as sender <br>

<p> linx_send_w_opt() - Send a signal to a LINX endpoint (spid) with alternative

<p>methods 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>#include &lt;linx_types.h&gt;</b> <br>
<b>#include &lt;linx.h&gt;</b> <br>

<p> <b>int linx_send(LINX *</b><i>linx</i><b>, union LINX_SIGNAL **</b><i>sig</i><b>, LINX_SPID </b><i>to</i><b>);</b> <br>

<p> <b>int linx_send_w_s(LINX *</b><i>linx</i><b>, union LINX_SIGNAL **</b><i>sig</i><b>, LINX_SPID </b><i>from</i><b>,
LINX_SPID </b><i>to</i><b>);</b> <br>

<p> <b>int linx_send_w_opt(LINX *</b><i>linx</i><b>, union LINX_SIGNAL **</b><i>sig</i><b>, LINX_SPID </b><i>from</i><b>,
LINX_SPID </b><i>to</i><b>, int32_t *</b><i>taglist</i><b>);</b> <br>

<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
Send a signal to the LINX endpoint identified by the <i>to</i> binary
identifier (spid). <a href='linx_send.3.html'><b>linx_send</b>(3)</a>
 always consumes the signal buffer, even
if the call fails, by freeing the memory and setting *sig to LINX_NIL to
prevent further access. <br>

<p> <i>linx</i>  is the handle to the LINX endpoint, via which the signal is transmitted.

<p> <br>

<p> <i>sig</i> is the signal to send. The signal buffer must be owned by the transmitting
LINX endpoint. It could have been allocated with <a href='linx_alloc.3.html'><b>linx_alloc</b>(3)</a>
 or received
via the same LINX endpoint. If <i>sig</i> is corrupt, <a href='abort.3.html'><b>abort</b>(3)</a>
 is called. <br>

<p> <i>to</i> is the identifier (spid) of the recipient LINX endpoint, usually found
as a result of a  <a href='linx_hunt.3.html'><b>linx_hunt</b>(3)</a>
. If the <i>to</i> spid refers to an endpoint that
has been closed (i.e. in state LINX_ZOMBIE), -1 is returned and <i>errno</i> is set
to ECONNRESET. If <i>to</i> does not apply to the specific method used in <a href='linx_send_w_opt.3.html'><b>linx_send_w_opt</b>(3)</a>
,
the LINX_ILLEGAL_SPID define shall be used as its value. 
<p> <i>from</i> is the identifier
(spid) of a different sender endpoint (instead of the transmitting endpoint).
The recipient will see this spid as the sender of the signal. If the <i>from</i>
spid refers to an endpoint that has been closed (i.e. in state LINX_ZOMBIE),
-1 is returned and <i>errno</i> is set to ECONNRESET. If <i>from</i> does not apply to
the specific method used in <a href='linx_send_w_opt.3.html'><b>linx_send_w_opt</b>(3)</a>
, the LINX_ILLEGAL_SPID define
shall be used as its value. 
<p> <i>taglist</i> is an array of tags and values used
with the call <a href='linx_send_w_opt.3.html'><b>linx_send_w_opt</b>(3)</a>
. Each tag has an associated value that
directly follows it. See the example for details. If the <i>taglist</i> contains
an invalid parameter, -1 is returned and <i>errno</i> is set to EINVAL. The <i>taglist</i>
parameter list can contain the folllowing values. 
<dl>

<dt><b>LINX_SIG_OPT_OOB</b> </dt>
<dd>
<p> The
 <b>LINX_SIG_OPT_OOB</b> tag is used to enable the OOB send method. The value of
the  <b>LINX_SIG_OPT_OOB</b> tag shall be 1. 
<p> An OOB signal is a signal that is
transmitted, transported, forwarded and  received ahead of in band signals.
When the OOB signal is placed in the signal queue of the receiving process,
it is placed ahead of in band signals but after OOB signals present in
the signal queue. 
<p> If the OOB signal is sent inter node and the operating
system on the receiving node is not supporting OOB, the signal is delivered
as an in band signal. 
<p> When sending an OOB signal the  <i>sig</i>  parameter is
the signal to be sent OOB. The signal buffer must be owned by the transmitting
LINX endpoint. It could have been allocated with  <a href='linx_alloc.3.html'><b>linx_alloc</b>(3)</a>
 or received.

<p> When an OOB signal is sent using <a href='linx_send_w_opt.3.html'><b>linx_send_w_opt</b>(3)</a>
, a signal attribute
is set on the signal,  <b>LINX_SIG_ATTR_OOB</b>. The <a href='linx_sigattr.3.html'><b>linx_sigattr</b>(3)</a>
 is used to
test if the attribute is set or not. 
<p> </dd>

<dt><b>LINX_SIG_OPT_END</b> </dt>
<dd>
<p> Marks the end of
the taglist and has no value. Must be at the end of the <i>taglist</i>. 
<p> 
<p> </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Return
Value</a></h2>
Returns 0 if successful. On failure, -1 is returned and <i>errno</i>  will
be set. In any case,  <i>sig</i> is set to LINX_NIL. 
<p> 
<h2><a name='sect4' href='#toc4'>Errors</a></h2>
<b>EBADF</b>, <b>ENOTSOCK</b> The
LINX endpoint is associated with an invalid socket descriptor. <br>

<p> <b>ENOBUFS</b>, <b>ENOMEM</b> Insufficient memory is available. <br>

<p> <b>ECONNRESET</b> The destination spid refers to a LINX endpoint that has been
closed (i.e. in state LINX_ZOMBIE). This situation is best avoided by using
 <a href='linx_attach.3.html'><i>linx_attach</i>(3)</a>
 to supervise the receiving LINX endpoint.  Closed spid are
not reused until forced by spid instance counter overflow. <br>

<p> <b>EPIPE</b> This error is reported at an attempt to send to the spid of a LINX
endpoint that is being closed as the call occurs. <br>

<p> <b>EINVAL</b> This error is reported if an unrecognized taglist parameter was
passed in the <i>taglist</i>. <br>

<p> 
<h2><a name='sect5' href='#toc5'>Bugs/Limitations</a></h2>
None. 
<h2><a name='sect6' href='#toc6'>Example</a></h2>
<blockquote><br>
<pre><tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;union LINX_SIGNAL *sig;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;LINX *linx;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;LINX_SPID to_spid;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;LINX_SPID from_spid;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int32_t taglist[3];
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;...
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;taglist[0]=LINX_SIG_OPT_OOB;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;taglist[1]=1;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;taglist[2]=LINX_SIG_OPT_END;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;sig = linx_alloc(linx, sizeof(LINX_SIGSELECT), 100);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;(void)linx_send_w_opt(linx, &amp;sig, to_spid, from_spid, taglist);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;...

</pre></blockquote>

<p> 
<h2><a name='sect7' href='#toc7'>Notes</a></h2>
It is illegal to allocate/receive a signal buffer on one LINX endpoint
and then send it using <a href='linx_send.3.html'><b>linx_send</b>(3)<b></b></a>
 from another LINX endpoint. In that
case a new signal buffer needs to be allocated and the buffer contents
moved to the new signal buffers prior to sending it.  <br>
 <blockquote><br>
<pre><tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;union LINX_SIGNAL *sig1, *sig2;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;LINX_OSBUFSIZE size;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;LINX_SIGSELECT sel[] = {0};
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;LINX *linx1, *linx2;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;LINX_SPID to_spid;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;...
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;sig1 = linx_receive(linx1, &amp;sig1, sel);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;size = linx_sigsize(linx1, sig1);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;sig2 = linx_alloc(linx2, size, sel);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;memcpy((void)sig2, (void)sig1, size);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;(void)linx_free_buf(linx1, &amp;sig1);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;(void)linx_send(linx2, &amp;sig2, to_spid);
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;...

</pre></blockquote>

<p> 
<h2><a name='sect8' href='#toc8'>See Also</a></h2>
<a href='linx.7.html'><b>linx</b>(7)</a>
, <b></b> <a href='linx_alloc.3.html'><b>linx_alloc</b>(3)</a>
, <b></b> <a href='linx_hunt.3.html'><b>linx_hunt</b>(3)</a>
, <b></b> <a href='linx_receive.3.html'><b>linx_receive</b>(3)</a>
, <b></b> <a href='linx_receive_w_tmo.3.html'><b>linx_receive_w_tmo</b>(3)</a>
,
 <a href='linx_receive_from.3.html'><b>linx_receive_from</b>(3)</a>
, <b></b> <a href='linx_sigattr.3.html'><b>linx_sigattr</b>(3)</a>
  
<h2><a name='sect9' href='#toc9'>Author</a></h2>
Enea LINX team 
<h2><a name='sect10' href='#toc10'>Copyright</a></h2>

<p>
Copyright (c) 2006-2007, Enea Software AB All rights reserved. <br>

<p> Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met: <br>

<p> Redistributions of source code must retain the above copyright notice,
this list of conditions and the following disclaimer. Redistributions in
binary form must reproduce the above copyright notice, this list of conditions
and the following disclaimer in the documentation and/or other materials
provided with the distribution. Neither the name of Enea Software AB nor
the names of its contributors may be used to endorse or promote products
derived from this software without specific prior written permission. <br>

<p> THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE. <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Return Value</a></li>
<li><a name='toc4' href='#sect4'>Errors</a></li>
<li><a name='toc5' href='#sect5'>Bugs/Limitations</a></li>
<li><a name='toc6' href='#sect6'>Example</a></li>
<li><a name='toc7' href='#sect7'>Notes</a></li>
<li><a name='toc8' href='#sect8'>See Also</a></li>
<li><a name='toc9' href='#sect9'>Author</a></li>
<li><a name='toc10' href='#sect10'>Copyright</a></li>
</ul>
</body>
</html>
