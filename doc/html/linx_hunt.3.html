<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>LINX_HUNT(3) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
linx_hunt() - Search for a LINX endpoint matching a name <br>

<p> linx_hunt_from() - Search for a LINX endpoint matching a name and set another
LINX endpoint to be the owner of the hunt.  
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>#include &lt;linx_types.h&gt;</b>
<br>
<b>#include &lt;linx.h&gt;</b> <br>

<p> <b>int linx_hunt(LINX *</b><i>linx</i><b>, const char *</b><i>name</i><b>, union LINX_SIGNAL **</b><i>hunt_sig</i><b>);</b>
<br>

<p> <b>int linx_hunt_from(LINX *</b><i>linx</i><b>, const char *</b><i>name</i><b>, union LINX_SIGNAL **</b><i>hunt_sig</i><b>,
LINX_SPID </b><i>from</i><b>);</b> 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>linx_hunt</b>() and <b>linx_hunt_from</b>() are used
to search for a LINX endpoint matching the provided hunt <i>name,</i> usually
in order to be able to obtain its spid and communicate with it. The hunt
name may optionally be prepended by a path of link names to reach a remote
node on which the endpoint shall be found. When the endpoint has been found,
the provided signal <i>hunt_sig</i> is sent from the found endpoint to the calling
endpoint. If no hunt signal (NULL) is provided, the default LINX hunt signal
of type LINX_OS_HUNT_SIG is used. The call consumes the signal, taking ownership
of the signal, and sets the <i>hunt_sig</i> pointer to LINX_NIL to prevent further
access. The signal is consumed also if an error occurs. <br>

<p> If there are multiple endpoints with the same name, it is not specified
which of these endpoints is used to resolve the hunt call. When the hunt
signal is received, the  <a href='linx_sender.3.html'><i>linx_sender</i>(3)</a>
 call can be used to get the spid
of the found endpoint. Note that the returned spid is always local even
though it may correspond to a LINX endpoint on a remote node. LINX will
transparently route signals to their intended destination endpoints on
remote nodes when needed. <br>

<p> A pending hunt will be automatically cancelled if the <i>linx</i> endpoint that
owns it is closed, e.g. if the caller exits. In the case with <b>linx_hunt_from</b>(),
 the  <i>from</i> parameter indicates a different owner of the pending hunt. If
the <i>from</i> endpoint is closed while the hunt is pending, the hunt will be
freed. Note that  <i>from</i> does NOT receive the hunt signal. <br>

<p>
<p> 
<p> <i>name</i> is a null-terminated string that shall exactly match a LINX endpoints
name.  If the endpoint is located on a remote node, the name of a link to
that node  (or names in a sequence of links) shall be included as the leading
part of the <i>name</i> according to the following syntax: <br>
"[&lt;link_1&gt;/][&lt;link_2&gt;/]...[&lt;link_N&gt;/]name" <br>
Example: "LinkToA/LinkToB/EndpointName" where a path of two links are passed
to reach the LINX endpoint. <br>

<p> <i>linx</i> is the handle to the LINX endpoint that will receive the hunt signal.
<br>

<p> <i>hunt_sig</i> is the signal which will be sent to the caller when the hunt
has been resolved. The sender of the signal will be the matching LINX endpoint
found. If  <i>hunt_sig</i> is NULL, a default LINX hunt signal with signal number
LINX_OS_HUNT_SIG will be sent instead. If <i>hunt_sig</i> is corrupt, <a href='abort.3.html'><b>abort</b>(3)</a>

is called. <br>

<p> <i>from</i> specifies a different owner of a possible pending hunt. If the endpoint,
with spid <i>from</i>,  is closed, the pending hunt will be cancelled. 
<p> 
<p> 
<h2><a name='sect3' href='#toc3'>Return
Value</a></h2>
Returns 0 if successful. -1 if an error occurred in which case errno
is set. 
<h2><a name='sect4' href='#toc4'>Errors</a></h2>
<b>ENOMEM</b> Insufficient memory is available. <br>

<p> <b>EBADF</b> The  <i>linx</i> handle refers to an invalid socket descriptor. <br>

<p> <b>EFAULT</b> The .I name parameter is invalid. 
<p> <b>ECONNRESET</b> The <i>from</i> spid in the
<a href='linx_hunt_from.3.html'><b>linx_hunt_from</b>(3)</a>
 refers to a LINX endpoint that has been closed (i.e. in
state LINX_ZOMBIE).  
<p> <b>EPIPE</b> This error is reported at an attempt to do a
<a href='linx_hunt_from.3.html'><b>linx_hunt_from</b>(3)</a>
 and the <i>from</i> spid is a LINX endpoint that is being closed
as the call occurs. <br>

<p>
<p> 
<p> 
<h2><a name='sect5' href='#toc5'>Bugs/Limitations</a></h2>
None. 
<h2><a name='sect6' href='#toc6'>Example</a></h2>
In this example client1 hunts for client2
and client3 */ 
<p> <br>
<pre>Client 1:
#include &lt;linx.h&gt;
int
main (int argc, char *argv[]) 
{
  LINX *linx;
  LINX_SPID client2, client3;
  union LINX_SIGNAL *sig;
  const LINX_SIGSELECT sel_hunt_sig[] = { 1, LINX_OS_HUNT_SIG };
  /* Open a LINX endpoint with huntname "client1" */
  linx = linx_open("client1", NULL, 0);
  /* Hunt for client2 */
  linx_hunt(linx, "client2", NULL);
  /* Receive hunt signal */
  linx_receive(linx, &amp;sig, sel_hunt_sig);
  /* Retrieve client2's spid */
  client2 = linx_sender(linx, &amp;sig);
  /* Free the hunt signal */
  linx_free_buf(linx, &amp;sig);
   /* Hunt for client3 */<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;
  linx_hunt(linx, "client3", NULL);
  /* Receive hunt signal */
  linx_receive(linx, &amp;sig, sel_hunt_sig);
  /* Retrieve client3's spid */
  client3 = linx_sender(linx, &amp;sig);
  /* Free the hunt signal */
  linx_free_buf(linx, &amp;sig);
  /* Do work, e.g. exchanges signals with client2 or client3 ... */
  /* Close the LINX endpoint */
  linx_close(linx);
  return 0;
}
Client 2:
#include &lt;linx.h&gt;
int
main (int argc, char *argv[])
{
  LINX *linx;
  /* Open a LINX endpoint with huntname "client2" */
  linx = linx_open("client2", NULL, 0);
  /* Do work.... */
  /* When done close the LINX endpoint */
  linx_close(linx);
  /* "client2" can no longer be hunted on */
  return 0;
}
Client 3:
#include &lt;linx.h&gt;
int
main (int argc, char *argv[])
{
  LINX *linx;
  /* Open a LINX endpoint with huntname "client3" */
  linx = linx_open("client3", NULL, 0);
  /* Do work.... */
  /* When done close the LINX endpoint */
  linx_close(linx);
  /* "client3" can no longer be hunted on */
  return 0;
}
</pre>
<p>
<p> 
<p> 
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='linx.7.html'><b>linx</b>(7)</a>
, <b></b> <a href='linx_attach.3.html'><b>linx_attach</b>(3)</a>
,  <a href='linx_sender.3.html'><b>linx_sender</b>(3)</a>
   
<p> 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Enea LINX
team 
<h2><a name='sect9' href='#toc9'>Copyright</a></h2>

<p> Copyright (c) 2006-2007, Enea Software AB All rights reserved.
<br>

<p> Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met: <br>

<p> Redistributions of source code must retain the above copyright notice,
this list of conditions and the following disclaimer. Redistributions in
binary form must reproduce the above copyright notice, this list of conditions
and the following disclaimer in the documentation and/or other materials
provided with the distribution. Neither the name of Enea Software AB nor
the names of its contributors may be used to endorse or promote products
derived from this software without specific prior written permission. <br>

<p> THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE. <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Return Value</a></li>
<li><a name='toc4' href='#sect4'>Errors</a></li>
<li><a name='toc5' href='#sect5'>Bugs/Limitations</a></li>
<li><a name='toc6' href='#sect6'>Example</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Copyright</a></li>
</ul>
</body>
</html>
