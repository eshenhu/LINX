<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>LINX_CANCEL_TMO(3) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
linx_request_tmo() - request timeout with specified signal <br>
linx_cancel_tmo() - cancel the specified timeout. <br>
linx_modify_tmo() - modify the specified timeout <br>

<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>#include &lt;linx_types.h&gt;</b> <br>
<b>#include &lt;linx.h&gt;</b> <br>

<p> <b>LINX_OSTMOREF linx_request_tmo(LINX *</b><i>linx</i><b>, LINX_OSTIME </b><i>tmo</i><b>, union LINX_SIGNAL
**</b><i>sig</i><b>);</b> <br>

<p> <b>int linx_cancel_tmo(LINX *</b><i>linx</i><b>, LINX_OSTMOREF *</b><i>tmoref</i><b>);</b> 
<p> <b>int linx_modify_tmo(LINX
*</b><i>linx</i><b>, LINX_OSTMOREF *</b><i>tmoref</i><b>, LINX_OSTIME </b><i>tmo</i><b>);</b> 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>

<p> <b>linx_request_tmo</b>()
is used to request a signal, <i>sig</i>, to be sent to the requesting LINX endpoint
<i>linx</i> when a timeout has expired. Information necessary for cancelling the
time-out is returned.  The actual time-out time, <i>tmo</i>, is rounded upward to
the next larger tick because a time-out can only trigger when a system clock
tick is received. Hence, the routine guarantees at least the number of milliseconds
requested, but may add a few more depending on the tick resolution. When
several time-out signals are generated at the same clock tick, the order
is unspecified. If <i>sig</i> is NULL, the default LINX timeout signal with signal
number LINX_OS_TMO_SIG is received instead. The linx_request_tmo () call
consumes the signal, and sets the <i>sig</i> pointer to LINX_NIL. The signal is
also consumed if an error occurs. 
<p> <b>linx_cancel_tmo</b>() is used to cancel a
timeout. The time-out is identified by the <i>tmoref</i> parameter, which was set
by <b>linx_request_tmo</b>()<b>.</b> It's an error to cancel a timeout more than once or
to cancel a timeout after the timeout signal has been received.  It is not
an error to cancel the timeout if the timeout signal is waiting in the
receive queue of the LINX endpoint. To prevent multiple cancellations, <b>linx_cancel_tmo</b>()
sets the tmoref pointer to LINX_ILLEGAL_TMOREF. <br>

<p> <b>linx_modify_tmo</b>() is used to modify a timeout. The time-out is identified
by the tmoref parameter, which was set by <b>linx_request_tmo</b>()<b>.</b> It's an error
to modify a timeout after the timeout signal has been received.  It is not
an error to modify the timeout if the timeout signal is waiting in the
receive queue of the LINX endpoint. 
<p> <i>linx</i> is the handle of the LINX endpoint.
<br>

<p> <i>spid</i> is the timeout time in milliseconds. <br>

<p> <i>sig</i> is either NULL or a user defined LINX signal. <br>

<p> <i>tmoref</i> is the reference to the timeout obtained from <b>linx_request_tmo</b>().

<p> 
<h2><a name='sect3' href='#toc3'>Return Value</a></h2>
<b>linx_request_tmo</b>() returns an timeout reference (LINX_OSTMOREF)
when successful. This timeout reference can be used to cancel the timeout.
<b>linx_cancel_tmo</b>() returns 0 on success. <br>

<p> On failure, <b>linx_request_tmo</b>() returns LINX_ILLEGAL_TMOREF while <b>linx_cancel_tmo</b>()
and <b>linx_modify_tmo</b>() both returns -1. In all cases <i>errno</i> will be set appropriately.

<h2><a name='sect4' href='#toc4'>Errors</a></h2>
<b>EBADF</b>, <b>ENOTSOCK</b> The <i>linx</i> handle refers to an invalid socket descriptor.
<br>

<p> <b>ENOMEM</b> Not enough memory. <br>

<p> <b>EINVAL</b> Invalid argument. <br>

<p> 
<h2><a name='sect5' href='#toc5'>Bugs/Limitations</a></h2>
None. 
<h2><a name='sect6' href='#toc6'>Example</a></h2>
This example shows how to request and wait
for a timeout. 
<p> <br>
<pre>#include &lt;linx.h&gt;
int
main (int argc, char *argv[]) 
{
  LINX *linx;
  union LINX_SIGNAL *sig;
  const LINX_SIGSELECT sel_tmo_sig [] = { 1, LINX_OS_TMO_SIG };
  /* Create a LINX endpoint */
  linx = linx_open("tmo-test", NULL, 0);
  /* Request a one second timeout. When the timeout expires the
     default signal will be returned. */
  linx_request_tmo(linx, 1000, NULL);
  /* Wait for the timeout signal. */
  linx_receive(linx, &amp;sig, sel_tmo_sig);
  /* Free the timeout signal */
  linx_free_buf(linx, &amp;sig);
  /* Close the LINX endpoint */
  linx_close(linx);
  return 0;
}
</pre>
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='linx.7.html'><b>linx</b>(7)</a>
,  <a href='linx_close.3.html'><b>linx_close</b>(3)</a>
,  <a href='linx_open.3.html'><b>linx_open</b>(3)</a>
   <a href='linx_receive.3.html'><b>linx_receive</b>(3)</a>
,  
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Enea
LINX team 
<h2><a name='sect9' href='#toc9'>Copyright</a></h2>

<p> Copyright (c) 2006-2007, Enea Software AB All rights
reserved. <br>

<p> Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met: <br>

<p> Redistributions of source code must retain the above copyright notice,
this list of conditions and the following disclaimer. Redistributions in
binary form must reproduce the above copyright notice, this list of conditions
and the following disclaimer in the documentation and/or other materials
provided with the distribution. Neither the name of Enea Software AB nor
the names of its contributors may be used to endorse or promote products
derived from this software without specific prior written permission. <br>

<p> THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE. <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Return Value</a></li>
<li><a name='toc4' href='#sect4'>Errors</a></li>
<li><a name='toc5' href='#sect5'>Bugs/Limitations</a></li>
<li><a name='toc6' href='#sect6'>Example</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Copyright</a></li>
</ul>
</body>
</html>
