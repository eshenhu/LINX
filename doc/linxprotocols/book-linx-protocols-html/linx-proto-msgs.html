<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3.6 Protocol Messages</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><meta name="keywords" content=""><link rel="start" href="title.html" title="LINX Protocols"><link rel="up" href="linx-protocols.html" title="3. LINX Protocols"><link rel="prev" href="linx-supervision.html" title="3.5 Link Supervision"><link rel="next" href="cm_protocols.html" title="4. Enea LINX Connection Manager Protocols"><base target="body"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td colspan="2" align="left"><span class="headerbaseline">Document Version 21</span></td><td align="right"><IMG src="images/enea_logo.png"></td></tr><tr><td colspan="3" align="center" valign="bottom"><h2 class="title"><a name="book_linx_proto"></a>LINX Protocols</h2></td></tr><tr><td width="20%" align="left"><a accesskey="p" href="linx-supervision.html">Prev</a> </td><th width="60%" align="center">3. LINX Protocols</th><td width="20%" align="right"> <a accesskey="n" href="cm_protocols.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="linx-proto-msgs"></a>3.6 Protocol Messages</h2></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2609474"></a>3.6.1 RLNH_INIT</h3></div></div></div><p>The RLNH_INIT message initiates link establishment between two
      peers. It is sent when the Connection Manager indicates to RLNH that the
      connection is up.</p><div class="table"><a name="id2609486"></a><p class="title"><b>Table 3.1 RLNH Init Header</b></p><div class="table-contents"><table summary="RLNH Init Header" cellpadding="5" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><td><sup>0</sup></td><td><sup>1</sup></td><td><sup>2</sup></td><td><sup>3</sup></td><td><sup>4</sup></td><td><sup>5</sup></td><td><sup>6</sup></td><td><sup>7</sup></td><td><sup>8</sup></td><td><sup>9</sup></td><td><sup>10</sup></td><td><sup>11</sup></td><td><sup>12</sup></td><td><sup>13</sup></td><td><sup>14</sup></td><td><sup>15</sup></td><td><sup>16</sup></td><td><sup>17</sup></td><td><sup>18</sup></td><td><sup>19</sup></td><td><sup>20</sup></td><td><sup>21</sup></td><td><sup>22</sup></td><td><sup>23</sup></td><td><sup>24</sup></td><td><sup>25</sup></td><td><sup>26</sup></td><td><sup>27</sup></td><td><sup>28</sup></td><td><sup>29</sup></td><td><sup>30</sup></td><td><sup>31</sup></td></tr><tr><td colspan="8" align="center">0</td><td colspan="8" align="center">1</td><td colspan="8" align="center">2</td><td colspan="8" align="center">3</td></tr><tr><td colspan="16" align="center">Reserved</td><td colspan="16" align="center">Type</td></tr><tr><td colspan="32" align="center">Version</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl><dt><span class="term">Reserved</span></dt><dd><p>Reserved for future use, must be 0.</p></dd><dt><span class="term">Type</span></dt><dd><p>Message type. The value of RLNH_INIT is 5.</p></dd><dt><span class="term">Version</span></dt><dd><p>The RLNH protocol version. The current version is 2.</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2609961"></a>3.6.2 RLNH_INIT_REPLY</h3></div></div></div><p>During link set up, RLNH responds to the RLNH_INIT message by
      sending an RLNH_INIT_REPLY message. The status field indicates whether
      the protocol is supported or not. The Feat_neg_string tells the remote
      RLNH what features the local RLNH supports.</p><div class="table"><a name="id2609975"></a><p class="title"><b>Table 3.2 RLNH Init Reply Header</b></p><div class="table-contents"><table summary="RLNH Init Reply Header" cellpadding="5" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><td><sup>0</sup></td><td><sup>1</sup></td><td><sup>2</sup></td><td><sup>3</sup></td><td><sup>4</sup></td><td><sup>5</sup></td><td><sup>6</sup></td><td><sup>7</sup></td><td><sup>8</sup></td><td><sup>9</sup></td><td><sup>10</sup></td><td><sup>11</sup></td><td><sup>12</sup></td><td><sup>13</sup></td><td><sup>14</sup></td><td><sup>15</sup></td><td><sup>16</sup></td><td><sup>17</sup></td><td><sup>18</sup></td><td><sup>19</sup></td><td><sup>20</sup></td><td><sup>21</sup></td><td><sup>22</sup></td><td><sup>23</sup></td><td><sup>24</sup></td><td><sup>25</sup></td><td><sup>26</sup></td><td><sup>27</sup></td><td><sup>28</sup></td><td><sup>29</sup></td><td><sup>30</sup></td><td><sup>31</sup></td></tr><tr><td colspan="8" align="center">0</td><td colspan="8" align="center">1</td><td colspan="8" align="center">2</td><td colspan="8" align="center">3</td></tr><tr><td colspan="16" align="center">Reserved</td><td colspan="16" align="center">Type</td></tr><tr><td colspan="32" align="center">Status</td></tr><tr><td colspan="32" align="center">Feat_neg_string
              (variable length, null-terminated string)</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl><dt><span class="term">Reserved</span></dt><dd><p>Reserved for future use, must be 0.</p></dd><dt><span class="term">Type</span></dt><dd><p>Message type. The value of RLNH_INIT_REPLY is 6.</p></dd><dt><span class="term">Status</span></dt><dd><p>Status code indicating whether the protocol version received
            in the RLNH_INIT message is supported (0) or not (1).</p></dd><dt><span class="term">Feat_neg_string</span></dt><dd><p>String containing feature name and argument pairs. Example:
            "feature1:arg1,feature2:arg2\0".</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2610479"></a>3.6.3 RLNH_PUBLISH</h3></div></div></div><p>The RLNH_PUBLISH message publishes an association between an
      endpoint name and the link address that shall be used to refer to it in
      subsequent messaging. Upon receiving an RLNH_PUBLISH message, RLNH
      creates a local representation of the remote name. This resolves any
      pending hunt calls for link_name/remote_name.</p><div class="table"><a name="id2610494"></a><p class="title"><b>Table 3.3 RLNH Publish Header</b></p><div class="table-contents"><table summary="RLNH Publish Header" cellpadding="5" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><td><sup>0</sup></td><td><sup>1</sup></td><td><sup>2</sup></td><td><sup>3</sup></td><td><sup>4</sup></td><td><sup>5</sup></td><td><sup>6</sup></td><td><sup>7</sup></td><td><sup>8</sup></td><td><sup>9</sup></td><td><sup>10</sup></td><td><sup>11</sup></td><td><sup>12</sup></td><td><sup>13</sup></td><td><sup>14</sup></td><td><sup>15</sup></td><td><sup>16</sup></td><td><sup>17</sup></td><td><sup>18</sup></td><td><sup>19</sup></td><td><sup>20</sup></td><td><sup>21</sup></td><td><sup>22</sup></td><td><sup>23</sup></td><td><sup>24</sup></td><td><sup>25</sup></td><td><sup>26</sup></td><td><sup>27</sup></td><td><sup>28</sup></td><td><sup>29</sup></td><td><sup>30</sup></td><td><sup>31</sup></td></tr><tr><td colspan="8" align="center">0</td><td colspan="8" align="center">1</td><td colspan="8" align="center">2</td><td colspan="8" align="center">3</td></tr><tr><td colspan="16" align="center">Reserved</td><td colspan="16" align="center">Type</td></tr><tr><td colspan="32" align="center">Linkaddr</td></tr><tr><td colspan="32" align="center">Name (variable
              length, null-terminated string)</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl><dt><span class="term">Reserved</span></dt><dd><p>Reserved for future use, must be 0.</p></dd><dt><span class="term">Type</span></dt><dd><p>Message type. The value of RLNH_PUBLISH is 2.</p></dd><dt><span class="term">Linkaddr</span></dt><dd><p>The link address being published.</p></dd><dt><span class="term">Name</span></dt><dd><p>The name being published..</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2610995"></a>3.6.4 RLNH_QUERY_NAME</h3></div></div></div><p>The RLNH_QUERY_NAME message is sent in order to resolve a remote
      name. An RLNH_PUBLISH message will be sent in response when the name has
      been found and assigned a link address by the peer.</p><div class="table"><a name="id2611007"></a><p class="title"><b>Table 3.4 RLNH Query Name Header</b></p><div class="table-contents"><table summary="RLNH Query Name Header" cellpadding="5" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><td><sup>0</sup></td><td><sup>1</sup></td><td><sup>2</sup></td><td><sup>3</sup></td><td><sup>4</sup></td><td><sup>5</sup></td><td><sup>6</sup></td><td><sup>7</sup></td><td><sup>8</sup></td><td><sup>9</sup></td><td><sup>10</sup></td><td><sup>11</sup></td><td><sup>12</sup></td><td><sup>13</sup></td><td><sup>14</sup></td><td><sup>15</sup></td><td><sup>16</sup></td><td><sup>17</sup></td><td><sup>18</sup></td><td><sup>19</sup></td><td><sup>20</sup></td><td><sup>21</sup></td><td><sup>22</sup></td><td><sup>23</sup></td><td><sup>24</sup></td><td><sup>25</sup></td><td><sup>26</sup></td><td><sup>27</sup></td><td><sup>28</sup></td><td><sup>29</sup></td><td><sup>30</sup></td><td><sup>31</sup></td></tr><tr><td colspan="8" align="center">0</td><td colspan="8" align="center">1</td><td colspan="8" align="center">2</td><td colspan="8" align="center">3</td></tr><tr><td colspan="16" align="center">Reserved</td><td colspan="16" align="center">Type</td></tr><tr><td colspan="32" align="center">src_linkaddr</td></tr><tr><td colspan="32" align="center">Name (variable
              length, null-terminated string)</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl><dt><span class="term">Reserved</span></dt><dd><p>Reserved for future use, must be 0.</p></dd><dt><span class="term">Type</span></dt><dd><p>Message type. The value of RLNH_QUERY_NAME is 1.</p></dd><dt><span class="term">src_linkaddr</span></dt><dd><p>Link address of the endpoint that issued the query.</p></dd><dt><span class="term">Name</span></dt><dd><p>The name to be looked up.</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2611509"></a>3.6.5 RLNH_UNPUBLISH</h3></div></div></div><p>The RLNH_UNPUBLISH message tells the remote RLNH that the endpoint
      previously assigned the given link-address has been closed.</p><div class="table"><a name="id2611520"></a><p class="title"><b>Table 3.5 RLNH Unpublish Header</b></p><div class="table-contents"><table summary="RLNH Unpublish Header" cellpadding="5" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><td><sup>0</sup></td><td><sup>1</sup></td><td><sup>2</sup></td><td><sup>3</sup></td><td><sup>4</sup></td><td><sup>5</sup></td><td><sup>6</sup></td><td><sup>7</sup></td><td><sup>8</sup></td><td><sup>9</sup></td><td><sup>10</sup></td><td><sup>11</sup></td><td><sup>12</sup></td><td><sup>13</sup></td><td><sup>14</sup></td><td><sup>15</sup></td><td><sup>16</sup></td><td><sup>17</sup></td><td><sup>18</sup></td><td><sup>19</sup></td><td><sup>20</sup></td><td><sup>21</sup></td><td><sup>22</sup></td><td><sup>23</sup></td><td><sup>24</sup></td><td><sup>25</sup></td><td><sup>26</sup></td><td><sup>27</sup></td><td><sup>28</sup></td><td><sup>29</sup></td><td><sup>30</sup></td><td><sup>31</sup></td></tr><tr><td colspan="8" align="center">0</td><td colspan="8" align="center">1</td><td colspan="8" align="center">2</td><td colspan="8" align="center">3</td></tr><tr><td colspan="16" align="center">Reserved</td><td colspan="16" align="center">Type</td></tr><tr><td colspan="32" align="center">Linkaddr</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl><dt><span class="term">Reserved</span></dt><dd><p>Reserved for future use, must be 0.</p></dd><dt><span class="term">Type</span></dt><dd><p>Message type. The value of RLNH_UNPUBLISH is 3.</p></dd><dt><span class="term">Linkaddr</span></dt><dd><p>The address of the closed endpoint.</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2611994"></a>3.6.6 RLNH_UNPUBLISH_ACK</h3></div></div></div><p>The RLNH_UNPUBLISH_ACK message tells the remote RLNH that all
      associations regarding an unpublished link address have been terminated.
      This indicates to the peer that it is ok to reuse the link
      address.</p><div class="table"><a name="id2612007"></a><p class="title"><b>Table 3.6 RLNH Unpublish Ack Header</b></p><div class="table-contents"><table summary="RLNH Unpublish Ack Header" cellpadding="5" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><td><sup>0</sup></td><td><sup>1</sup></td><td><sup>2</sup></td><td><sup>3</sup></td><td><sup>4</sup></td><td><sup>5</sup></td><td><sup>6</sup></td><td><sup>7</sup></td><td><sup>8</sup></td><td><sup>9</sup></td><td><sup>10</sup></td><td><sup>11</sup></td><td><sup>12</sup></td><td><sup>13</sup></td><td><sup>14</sup></td><td><sup>15</sup></td><td><sup>16</sup></td><td><sup>17</sup></td><td><sup>18</sup></td><td><sup>19</sup></td><td><sup>20</sup></td><td><sup>21</sup></td><td><sup>22</sup></td><td><sup>23</sup></td><td><sup>24</sup></td><td><sup>25</sup></td><td><sup>26</sup></td><td><sup>27</sup></td><td><sup>28</sup></td><td><sup>29</sup></td><td><sup>30</sup></td><td><sup>31</sup></td></tr><tr><td colspan="8" align="center">0</td><td colspan="8" align="center">1</td><td colspan="8" align="center">2</td><td colspan="8" align="center">3</td></tr><tr><td colspan="16" align="center">Reserved</td><td colspan="16" align="center">Type</td></tr><tr><td colspan="32" align="center">Linkaddr</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl><dt><span class="term">Reserved</span></dt><dd><p>Reserved for future use, must be 0.</p></dd><dt><span class="term">Type</span></dt><dd><p>Message type. The value of RLNH_UNPUBLISH_ACK is 4.</p></dd><dt><span class="term">Linkaddr</span></dt><dd><p>The link address of the unpublished endpoint.</p></dd></dl></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2612481"></a>3.6.7 RLNH_PUBLISH_PEER</h3></div></div></div><p>When a remote LINX endpoint is used as the sender in a
      send_w_sender() function call and the receiver exists on the same node
      as the local LINX endpoint, the remote LINX endpoint is published as a
      remote sender.</p><div class="table"><a name="id2612494"></a><p class="title"><b>Table 3.7 RLNH Publish Peer Header</b></p><div class="table-contents"><table summary="RLNH Publish Peer Header" cellpadding="5" border="1"><colgroup><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col><col></colgroup><tbody><tr><td><sup>0</sup></td><td><sup>1</sup></td><td><sup>2</sup></td><td><sup>3</sup></td><td><sup>4</sup></td><td><sup>5</sup></td><td><sup>6</sup></td><td><sup>7</sup></td><td><sup>8</sup></td><td><sup>9</sup></td><td><sup>10</sup></td><td><sup>11</sup></td><td><sup>12</sup></td><td><sup>13</sup></td><td><sup>14</sup></td><td><sup>15</sup></td><td><sup>16</sup></td><td><sup>17</sup></td><td><sup>18</sup></td><td><sup>19</sup></td><td><sup>20</sup></td><td><sup>21</sup></td><td><sup>22</sup></td><td><sup>23</sup></td><td><sup>24</sup></td><td><sup>25</sup></td><td><sup>26</sup></td><td><sup>27</sup></td><td><sup>28</sup></td><td><sup>29</sup></td><td><sup>30</sup></td><td><sup>31</sup></td></tr><tr><td colspan="8" align="center">0</td><td colspan="8" align="center">1</td><td colspan="8" align="center">2</td><td colspan="8" align="center">3</td></tr><tr><td colspan="16" align="center">Reserved</td><td colspan="16" align="center">Type</td></tr><tr><td colspan="32" align="center">Linkaddr</td></tr><tr><td colspan="32" align="center">Peer_linkaddr</td></tr></tbody></table></div></div><br class="table-break"><div class="variablelist"><dl><dt><span class="term">Reserved</span></dt><dd><p>Reserved for future use, must be 0.</p></dd><dt><span class="term">Type</span></dt><dd><p>Message type. The value of RLNH_PUBLISH_PEER is 5.</p></dd><dt><span class="term">Linkaddr</span></dt><dd><p>The link address being published.</p></dd><dt><span class="term">Peer_linkaddr</span></dt><dd><p>The link address of the endpoint that previously published
            it self on the current link.</p></dd></dl></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linx-supervision.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="linx-protocols.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="cm_protocols.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><b>3.5 Link Supervision</b> </td><td width="20%" align="center"><a accesskey="h" href="title.html">Home</a> | <a accesskey="i" href="ix01.html">Index</a></td><td width="40%" align="right" valign="top"> <b>4. Enea LINX Connection Manager Protocols</b></td></tr><tr> </tr><tr><td colspan="3" align="center">© Enea Software AB 2011</td></tr></table></div></body></html>
